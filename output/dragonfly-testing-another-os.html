<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Dragonfly - Testing another OS | There is IT in Helsinki
</title>
  <link rel="canonical" href="/dragonfly-testing-another-os.html">


  <link rel="stylesheet" href="/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="/theme/css/fontawesome.min.css">
  <link rel="stylesheet" href="/theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="/theme/css/theme.css">

  <link rel="alternate" type="application/atom+xml" title="Full Atom Feed"
        href="/atom.xml">
  
  <meta name="description" content="http://www.dragonflybsd.org/ Install It's based on ... BSD! (FreeBSD 4.8 is apparently what dragonfly span off from) What's weird is that while VMWare Workstation scans the iso (to find which OS it is) it stops responding (other VMs are unaffected). It finds FreeBSD 64-bit. It has a 'hammer' …">


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
    <div class="col-sm-4">
      <a href="/">
        <img class="img-fluid rounded" src=/images/blog_site_image.png alt="There is IT in Helsinki">
      </a>
    </div>
  <div class="col-sm-8">
    <h1 class="title"><a href="/">There is IT in Helsinki</a></h1>
      <ul class="list-inline">
          <li class="list-inline-item"><a href="/tags/" target="_blank">tags</a></li>
          <li class="list-inline-item"><a href="/categories/" target="_blank">categories</a></li>
            <li class=" list-inline-item text-muted">|</li>
          <li class="list-inline-item"><a class="fab fa-twitter" href="https://twitter.com/martbhell" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fas fa-rss" href="/atom.xml" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fab fa-github" href="https://github.com/martbhell" target="_blank"></a></li>
      </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Dragonfly - Testing another OS
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2012-02-27T00:00:00+02:00">
          <i class="fas fa-clock"></i>
          2012-02-27
        </li>
        <li class="list-inline-item">
          <i class="fas fa-folder-open"></i>
          <a href="/category/it.html">it</a>
        </li>
          <li class="list-inline-item">
            <i class="fas fa-tag"></i>
              <a href="/tag/bsd.html">#bsd</a>,               <a href="/tag/dragonfly.html">#dragonfly</a>,               <a href="/tag/freebsd.html">#freebsd</a>,               <a href="/tag/operating.html">#operating</a>,               <a href="/tag/system.html">#system</a>,               <a href="/tag/os.html">#os</a>,               <a href="/tag/vmware.html">#vmware</a>,               <a href="/tag/workstation.html">#workstation</a>          </li>
      </ul>
    </header>
    <div class="content">
      <h1 id="httpwwwdragonflybsdorg"><a href="http://www.dragonflybsd.org/" title="http://www.dragonflybsd.org/">http://www.dragonflybsd.org/</a></h1>
<h2 id="install">Install</h2>
<p>It's based on ... BSD! (FreeBSD 4.8 is apparently what dragonfly span off from)</p>
<p>What's weird is that while VMWare Workstation scans the iso (to find which OS it is) it stops responding (other VMs are unaffected). It finds FreeBSD 64-bit.</p>
<p>It has a 'hammer' filesystem. Apparently this is unsupported for FS under 10GB and not recommended for under 50G and will apparently require a lot of <a href="http://leaf.dragonflybsd.org/cgi/web-man?command=newfs_hammer&amp;section=8">things</a> (period clean-up job) occasionally.</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="o">**</span><span class="n">HAMMER</span><span class="o">**</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">designed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">large</span><span class="w"> </span><span class="n">storage</span><span class="w"> </span><span class="n">systems</span><span class="p">,</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mh">1</span>
<span class="w"> </span><span class="n">Exabyte</span><span class="p">,</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">efficiently</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="k">small</span><span class="w"> </span><span class="n">storage</span><span class="w"> </span><span class="n">systems</span><span class="p">.</span><span class="w">  </span><span class="n">The</span>
<span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mh">50</span><span class="n">GB</span><span class="p">.</span><span class="w">  </span><span class="o">**</span><span class="n">HAMMER</span><span class="o">**</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">reserve</span><span class="w"> </span><span class="mh">500</span><span class="n">MB</span>
<span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mh">1</span><span class="n">GB</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">storage</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">reblocking</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">UNDO</span><span class="o">/</span><span class="n">REDO</span><span class="p">.</span><span class="w">  </span><span class="n">In</span><span class="w"> </span><span class="n">addition</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">HAMMER</span><span class="o">**</span>
<span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">normally</span><span class="p">,</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="n">retention</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">daily</span>
<span class="w"> </span><span class="n">snapshots</span><span class="p">,</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="n">reclaim</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">deleted</span><span class="p">.</span><span class="w">  </span><span class="n">A</span>
<span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">maintenance</span><span class="w"> </span><span class="n">job</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">day</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="p">[</span><span class="n">periodic</span><span class="p">(</span><span class="mh">8</span><span class="p">)](</span><span class="nl">http:</span><span class="c1">//leaf.dragonflybsd.org/cgi/web-man?command=periodic&amp;section=8) to handle</span>
<span class="w"> </span><span class="n">reclamation</span><span class="p">.</span>
</code></pre></div>

<p>Nice and straight-forward console-based installation.</p>
<p>Quick and easy!</p>
<h2 id="configure">Configure</h2>
<p>As it's BSD, add the user to the 'wheel' group so that it can become super-user.</p>
<p>Guide to get sshd working (basically set PasswordAuthentication = yes). The guide mentions a lot of other things, but in 3.0.1 sshd is on by default and the keys have been generated.</p>
<h2 id="install-software">Install  software</h2>
<p>Edit /usr/pkg/etc/pkgin/repositories.conf and add the URL to a repository near you.</p>
<p>pkgin update</p>
<p>pkgin full-update</p>
<p>pkgin search packagename</p>
<p>pkgin install bash</p>
<p>This installs bash to /usr/pkg/bin/bash</p>
<p>It's not enough to just edit /etc/passwd to get the new shell, you need to edit it via 'chsh'.</p>
<p>To install screen you need to</p>
<p>ln -s /usr/lib/libcrypt.so.4 /usr/lib/libcrypt.so.3</p>
<p>or it will complain that libcrypt.so.3 doesn't exist.</p>
<h2 id="the-hammer-filesystem">The HAMMER filesystem</h2>
<p>All commands start with 'hammer'. Like 'hammer info'.</p>
<h2 id="conclusion">Conclusion</h2>
<p>While looking at it from the above angle (quite distant) - this doesn't appear to be very different from other bsd/unix/linux distributions, a bit different commands to do some things but that's not so odd in itself.</p>
<p>Personally I like the name, maybe that's enough to use it? =)</p>
    </div>
  </article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
    <li class="list-inline-item"><a href="https://wtangy.se">Was There an NHL Game Yesterday?</a></li>
    <li class="list-inline-item"><a href="/tag/resepti">Recipes in Finnish</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>

</body>

</html>