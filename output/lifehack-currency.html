<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Lifehack currency | There is IT in Helsinki
</title>
  <link rel="canonical" href="/lifehack-currency.html">


  <link rel="stylesheet" href="/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="/theme/css/fontawesome.min.css">
  <link rel="stylesheet" href="/theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="/theme/css/theme.css">

  <link rel="alternate" type="application/atom+xml" title="Full Atom Feed"
        href="/atom.xml">
  
  <meta name="description" content="Haven't gotten around to the e-mail script yet, what would qualify? I check it so regularly often anyway that that is not something I want, I also don't get that many e-mails. On to another script that would assist me when I need to send money between a non-euro country â€¦">


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
    <div class="col-sm-4">
      <a href="/">
        <img class="img-fluid rounded" src=/images/blog_site_image.png alt="There is IT in Helsinki">
      </a>
    </div>
  <div class="col-sm-8">
    <h1 class="title"><a href="/">There is IT in Helsinki</a></h1>
      <ul class="list-inline">
          <li class="list-inline-item"><a href="/tags/" target="_blank">tags</a></li>
          <li class="list-inline-item"><a href="/categories/" target="_blank">categories</a></li>
            <li class=" list-inline-item text-muted">|</li>
          <li class="list-inline-item"><a class="fab fa-twitter" href="https://twitter.com/martbhell" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fas fa-rss" href="/atom.xml" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fab fa-github" href="https://github.com/martbhell" target="_blank"></a></li>
      </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Lifehack currency
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2011-01-18T00:00:00+02:00">
          <i class="fas fa-clock"></i>
          2011-01-18
        </li>
        <li class="list-inline-item">
          <i class="fas fa-folder-open"></i>
          <a href="/category/finland.html">finland</a>
        </li>
          <li class="list-inline-item">
            <i class="fas fa-tag"></i>
              <a href="/tag/currency.html">#currency</a>,               <a href="/tag/it.html">#it</a>,               <a href="/tag/lifehack.html">#lifehack</a>,               <a href="/tag/money.html">#money</a>,               <a href="/tag/script.html">#script</a>          </li>
      </ul>
    </header>
    <div class="content">
      <p>Haven't gotten around to the e-mail script yet, what would qualify? I check it so regularly often anyway that that is not something I want, I also don't get that many e-mails.</p>
<p>On to another script that would assist me when I need to send money between a non-euro country and a country with euro. How to keep track of when the non-euro currency gives as much euro as possible?</p>
<p>Also, good thing I checked with the girlfriend: When sending money <strong>to</strong> a <strong>non-euro country</strong> <strong>from</strong> a <strong>euro country</strong>, you want to get as <strong>many non-euro</strong> as possible.</p>
<p>When sending money <strong>to</strong> a <strong>euro country</strong> <strong>from</strong> a <strong>non-euro country</strong>, you want to use as <strong>few non-euro</strong> as possible to make <strong>a euro</strong>. </p>
<div class="highlight"><pre><span></span><code><span class="c1">#/bin/sh</span>

<span class="nv">webpage</span><span class="o">=</span>http://url.com/page.html
<span class="nv">inputfile</span><span class="o">=</span>/home/user/valuta/valuta.html
<span class="nv">play</span><span class="o">=</span>/home/martbhell/valuta/playfile
<span class="nv">outputfile</span><span class="o">=</span>/var/www/valuta.log

wget<span class="w"> </span><span class="nv">$webpage</span><span class="w"> </span>-O<span class="w"> </span><span class="nv">$inputfile</span><span class="w"> </span>cat<span class="w"> </span><span class="nv">$inputfile</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>EUR/SEK<span class="w"> </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span><span class="nv">$play</span><span class="w"> </span>
awk<span class="w"> </span><span class="s1">&#39;{print $4}&#39;</span><span class="w"> </span><span class="nv">$play</span><span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="nv">$outputfile</span><span class="w"> </span>
date<span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="nv">$outputfile</span>
</code></pre></div>

<p>This is how the bash script looks like at the moment.</p>
<p>I would prefer to have the date after the value of EUR/SEK because then it's a lot easier to read. But I was thinking maybe I can sort this out via a php-script when presenting the file. Basically every 2nd line should have a new line, not every one which is how the file looks like after the above bash script, see below:</p>
<blockquote>
<p>8.9134 Tue Jan 18 10:15:05 PST 2011</p>
</blockquote>
<p><em>In Ubuntu Server (what I'm running as a virtual machine to test the scripts) to set timezone it is: <strong>dpkg-reconfigure tzdata</strong></em></p>
<p>** just about to go to bed, but why don't I remove the date from the lines, and then instead add them via php? .. hmm. but then i won't have the date of when the value was taken.. is it important? seems kind of relevant, it's not really the date the exchange rate was updated, just when script was run so perhaps during the night we'd see updates on the numbers but not on the rate. to be contemplated I guess - also maybe put this in a mysql db?**</p>
<p>** After sleeping on it I ended up doing it like this:</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span><span class="nv">$webpage</span><span class="w"> </span>-O<span class="w"> </span><span class="nv">$inputfile</span>
cat<span class="w"> </span><span class="nv">$inputfile</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>EUR/SEK<span class="w"> </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span><span class="nv">$play</span><span class="w"> </span>
<span class="c1"># - this greps for EUR/SEK and only line 1 (there are three on that .html) </span>
<span class="nv">P</span><span class="o">=</span><span class="k">$(</span>awk<span class="w"> </span><span class="s1">&#39;{print $4}&#39;</span><span class="w"> </span><span class="nv">$play</span><span class="k">)</span>
<span class="c1"># - column 4 from output file of the above cat/grep </span>
<span class="nv">S</span><span class="o">=</span><span class="k">$(</span>date<span class="k">)</span><span class="w"> </span><span class="c1"># - just to put the date in a variable</span>
<span class="nv">T</span><span class="o">=</span><span class="s1">&#39;TAG BR TAG&#39;</span><span class="w"> </span><span class="c1"># - to put an HTML BR tag at the end of each line </span>
<span class="nv">U</span><span class="o">=</span>,<span class="w"> </span><span class="c1"># - to add a [comma between the values](http://en.wikipedia.org/wiki/Comma-separated_values), might come in handy if I want to import/export this.</span>

<span class="nb">echo</span><span class="w"> </span><span class="nv">$P$U</span><span class="w"> </span><span class="nv">$S$U</span><span class="w"> </span><span class="nv">$T</span><span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="nv">$outputfile</span>
</code></pre></div>

<p>This does the trick and the output now looks like this in the file, and comes out like that on the webpage too.</p>
<blockquote>
<p>8.9082 Wed Jan 19 07:40:54 EET 2011 8.9082 Wed Jan 19 07:50:54 EET 2011</p>
</blockquote>
<p>Now I just have to find a way to run this and put it on my webhost :) ** OK believe I have a way but it's not so good as it's via unsecure ftp :/</p>
<p>Thinking about the mysql thing but as my webhost don't have a shell that would mean some sneaky "shortcuts" to get the things in the db :/ ** 01/20/2011 - Added CSV in the outputfile too.</p>
    </div>
  </article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
    <li class="list-inline-item"><a href="https://wtangy.se">Was There an NHL Game Yesterday?</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>

</body>

</html>