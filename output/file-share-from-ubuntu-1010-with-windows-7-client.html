<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  File share from Ubuntu 10.10 with Windows 7 Client | There is IT in Helsinki
</title>
  <link rel="canonical" href="/file-share-from-ubuntu-1010-with-windows-7-client.html">


  <link rel="stylesheet" href="/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="/theme/css/fontawesome.min.css">
  <link rel="stylesheet" href="/theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="/theme/css/theme.css">

  <link rel="alternate" type="application/atom+xml" title="Full Atom Feed"
        href="/atom.xml">
  
  <meta name="description" content="Figured I would give this a shot and see how this is done in Linux. Overview 1x Ubuntu 10.10 VM in VMWare Workstation. Installed with virtual kernel. 1x Windows 7 VM. All updates. Not going to go through the installations in this post, just the domain/LDAP part. See …">


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
    <div class="col-sm-4">
      <a href="/">
        <img class="img-fluid rounded" src=/images/blog_site_image.png alt="There is IT in Helsinki">
      </a>
    </div>
  <div class="col-sm-8">
    <h1 class="title"><a href="/">There is IT in Helsinki</a></h1>
      <ul class="list-inline">
          <li class="list-inline-item"><a href="/tags/" target="_blank">tags</a></li>
          <li class="list-inline-item"><a href="/categories/" target="_blank">categories</a></li>
            <li class=" list-inline-item text-muted">|</li>
          <li class="list-inline-item"><a class="fab fa-twitter" href="https://twitter.com/martbhell" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fas fa-rss" href="/atom.xml" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fab fa-github" href="https://github.com/martbhell" target="_blank"></a></li>
      </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  File share from Ubuntu 10.10 with Windows 7 Client
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2011-02-08T00:00:00+02:00">
          <i class="fas fa-clock"></i>
          2011-02-08
        </li>
        <li class="list-inline-item">
          <i class="fas fa-folder-open"></i>
          <a href="/category/it.html">it</a>
        </li>
          <li class="list-inline-item">
            <i class="fas fa-tag"></i>
              <a href="/tag/10.html">#10</a>,               <a href="/tag/apt.html">#apt</a>,               <a href="/tag/get.html">#get</a>,               <a href="/tag/file.html">#file</a>,               <a href="/tag/share.html">#share</a>,               <a href="/tag/guide.html">#guide</a>,               <a href="/tag/kernel.html">#kernel</a>,               <a href="/tag/linux.html">#linux</a>,               <a href="/tag/samba.html">#samba</a>,               <a href="/tag/ubuntu.html">#ubuntu</a>,               <a href="/tag/virtual.html">#virtual</a>,               <a href="/tag/vm.html">#vm</a>,               <a href="/tag/vmware.html">#vmware</a>,               <a href="/tag/workstation.html">#workstation</a>,               <a href="/tag/windows.html">#windows</a>          </li>
      </ul>
    </header>
    <div class="content">
      <p>Figured I would give this a shot and see how this is done in Linux.</p>
<h2 id="overview">Overview</h2>
<p>1x Ubuntu 10.10 VM in VMWare Workstation. Installed with virtual kernel. 1x Windows 7 VM. All updates.</p>
<p>Not going to go through the installations in this post, just the domain/LDAP part. See <a href="http://www.guldmyr.com/blog/tag/ubuntu/" title="tag ubuntu">previous post</a>s for installation stuffs.</p>
<p>Found this article on ubuntu.com -&gt; -&gt; 10.10/serverguide/C/network-authentication.html .. But this does not exist anymore.</p>
<p>Whoa, quite a lot to do. Think I will read the manuals this time :)</p>
<p>Basically I think I just need to install and then configure <a href="http://www.samba.org/samba/docs/SambaIntro.html" title="samba intro">Samba</a>. Because it has file-sharing and authentication/authorization.</p>
<p>So, first step will be to install Samba and try file-sharing.</p>
<h2 id="file-sharing">File Sharing</h2>
<p>sudo apt-get install samba</p>
<p>installs these:</p>
<p>The following NEW packages will be installed: libavahi-client3 libavahi-common-data libavahi-common3 libcups2 libfile-copy-recursive-perl libgnutls26 libldap-2.4-2 libsasl2-2 libsasl2-modules libtalloc2 libtasn1-3 libwbclient0 samba samba-common samba-common-bin update-inetd</p>
<p>After that I can run \\192.168.0.ip which is the IP of the VM running samba - it gives me a login prompt.</p>
<p>Uncommenting this in /etc/samba/smb.conf</p>
<p>[homes] comment = Home Directories browseable = yes</p>
<p>Still asks for a password. Tried with user@ip - this seems to work. It shows a directory called "homes" but it doesn't work to browse into it.</p>
<p>[2011/02/06 16:30:45.949726,  1] smbd/service.c:678(make_connection_snum) create_connection_server_info failed: NT_STATUS_ACCESS_DENIED</p>
<p>Set 'share' and set the guest account = nobody  then I got this:</p>
<p>[2011/02/07 13:22:06.770082,  0] smbd/service.c:988(make_connection_snum) canonicalize_connect_path failed for service foo, path /mnt/foo</p>
<p>Then what I did was this:</p>
<ol>
<li>created a directory called /samba</li>
<li>sudo chmod +x /samba</li>
<li>sudo chmod 777 /samba</li>
<li>sudo chown nobody /samba</li>
<li>add this to /etc/samba/smb.conf</li>
<li>[foo] comment = foo path = /samba read only = no guest ok = yes guest only = yes browseable = yes</li>
<li>security = share</li>
<li>guest account = nobody</li>
</ol>
<p>And then \\ip\foo and woopsie! I can both write and read :)</p>
<p>[2011/02/07 13:23:14.022980,  1] smbd/service.c:1070(make_connection_snum) 192.168.0.ip (192.168.0.ip) connect to service foo initially as user nobod</p>
<p>yay!</p>
    </div>
  </article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
    <li class="list-inline-item"><a href="https://wtangy.se">Was There an NHL Game Yesterday?</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>

</body>

</html>