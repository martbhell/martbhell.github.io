<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Playing with devstack while studying for OpenStack Certified Administrator | There is IT in Helsinki
</title>
  <link rel="canonical" href="/playing-with-devstack-while-studying-for-openstack-certified-administrator.html">


  <link rel="stylesheet" href="/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="/theme/css/fontawesome.min.css">
  <link rel="stylesheet" href="/theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="/theme/css/theme.css">

  <link rel="alternate" type="application/atom+xml" title="Full Atom Feed"
        href="/atom.xml">
  
  <meta name="description" content="Below I'll go through some topics I thought about while reading through the requirements for COA: Users and passwords because we use a LDAP at $dayjob. How to set passwords and stuff? openstack user password set openstack role add --user foo member --project demo Users and quota. Can one set …">


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
    <div class="col-sm-4">
      <a href="/">
        <img class="img-fluid rounded" src=/images/blog_site_image.png alt="There is IT in Helsinki">
      </a>
    </div>
  <div class="col-sm-8">
    <h1 class="title"><a href="/">There is IT in Helsinki</a></h1>
      <ul class="list-inline">
          <li class="list-inline-item"><a href="/tags/" target="_blank">tags</a></li>
          <li class="list-inline-item"><a href="/categories/" target="_blank">categories</a></li>
            <li class=" list-inline-item text-muted">|</li>
          <li class="list-inline-item"><a class="fab fa-twitter" href="https://twitter.com/martbhell" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fas fa-rss" href="/atom.xml" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fab fa-github" href="https://github.com/martbhell" target="_blank"></a></li>
      </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Playing with devstack while studying for OpenStack Certified Administrator
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2018-11-08T00:00:00+02:00">
          <i class="fas fa-clock"></i>
          2018-11-08
        </li>
        <li class="list-inline-item">
          <i class="fas fa-folder-open"></i>
          <a href="/category/it.html">it</a>
        </li>
          <li class="list-inline-item">
            <i class="fas fa-tag"></i>
              <a href="/tag/cloud.html">#cloud</a>          </li>
      </ul>
    </header>
    <div class="content">
      <p>Below I'll go through some topics I thought about while reading through the <a href="https://www.openstack.org/coa/requirements/">requirements</a> for COA:</p>
<ul>
<li>Users and passwords because we use a LDAP at $dayjob. How to set passwords and stuff?<ul>
<li>openstack user password set</li>
<li>openstack role add --user foo member --project demo</li>
</ul>
</li>
<li>Users and quota. Can one set openstack to have user quota? <ul>
<li><em>guess not :)</em></li>
</ul>
</li>
<li>How to default quota with CLI?<ul>
<li>nova quota-class commands. Found in operator's guide in the docs.</li>
</ul>
</li>
<li>Create openrc without horizon<ul>
<li>TIL that OS_AUTH in devstack is http://IP/identity . No separate port :) And couldn't really find a nice way. After it's working there's an $ openstack configuration show though which tells stuff..</li>
</ul>
</li>
<li>Cinder backup<ul>
<li>cool, but this service is not there by default in devstack.</li>
</ul>
</li>
<li>Cinder encryption <ul>
<li>another volume type with encryption.  Shouldn't need barbican with a fixed_key but I don't know, cinder in my devstack wasn't really working so couldn't attach and try it out. Have some volumes with a encryption_key_id of "000000..." so maybe? Attaching my LVMs isn't working for some reason. Complaining about initiator ?</li>
</ul>
</li>
<li>Cinder groups.<ul>
<li>Details found under cinder admin guide under rocky.. not Pike. Using cinder command one can create volume group types and then volume groups and then volumes in the volume group. All with cinder command. After you have added volumes into a group you can take snapshots of a volume group. And also create a volume group (and volumes) from the list of snapshots.</li>
</ul>
</li>
<li>
<p>Cinder storage pool</p>
<ul>
<li>backends. In devstack it's devstack@lvmdriver-1apparently one can set volume_backend_name both as a cinder.conf and as a property</li>
</ul>
</li>
<li>
<p>Object Expiration. Supported in CEPH rados gateway? Yes, but in <a href="http://docs.ceph.com/docs/luminous/radosgw/s3/">luminous</a></p>
<ul>
<li>available in default devstack, done with a <a href="https://docs.openstack.org/ocata/user-guide/cli-swift-set-object-expiration.html">magical header</a> X-Delete-After:epoch</li>
</ul>
</li>
<li>Make a Heat template from scratch using the docs. <ul>
<li>can be made quite minimal</li>
</ul>
</li>
<li>Update a stack</li>
<li>Checking status of all the services</li>
<li>Forget about ctrl+w.</li>
</ul>
<h2 id="study-environment">Study Environment</h2>
<p>A <a href="https://docs.openstack.org/devstack/latest/">devstack</a> setup in an Ubuntu 18.04 in a VM in $dayjob cloud. This means no nested virtualization and I wonder how unhappy neutron will be because port security. But it's all within one VM - it started OK, not everything worked but that's fine with me :) Probably just need a local.conf which is not the default!</p>
<p><em>One thing I got to figure out was the LVM setup for cinder. Always fun to read logs :)</em></p>
    </div>
  </article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
    <li class="list-inline-item"><a href="https://wtangy.se">Was There an NHL Game Yesterday?</a></li>
    <li class="list-inline-item"><a href="/tag/resepti">Recipes in Finnish</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>

</body>

</html>