<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>"Update to Spotify - An RSS Feed"</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="There is IT in Helsinki Atom Feed" />
        <meta name="description" content="After some time the solution I devised on http://www.guldmyr.com/blog/script-to-check-for-an-update-on-a-web-page/ just did not elegant enough..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">There is IT in Helsinki</a></h1>
                <nav><ul>
                    <li><a href="/category/finland.html">finland</a></li>
                    <li class="active"><a href="/category/it.html">it</a></li>
                    <li><a href="/category/storage.html">storage</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/update-to-spotify-an-rss-feed.html" rel="bookmark"
           title="Permalink to "Update to Spotify - An RSS Feed"">"Update to Spotify - An RSS Feed"</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-07-08T00:00:00+03:00">
                Published: "2012-07-08"
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/johan-guldmyr.html">Johan Guldmyr</a>
        </address>
<p>In <a href="/category/it.html">it</a>.</p>
<p>tags: <a href="/tag/bash.html">bash</a> <a href="/tag/feed.html">feed</a> <a href="/tag/ftp.html">ftp</a> <a href="/tag/linux.html">linux</a> <a href="/tag/repository.html">repository</a> <a href="/tag/rss.html">rss</a> <a href="/tag/script.html">script</a> <a href="/tag/spotify.html">spotify</a> <a href="/tag/web.html">web</a> </p>
</footer><!-- /.post-info -->      <p>After some time the solution I devised on <a href="http://www.guldmyr.com/blog/script-to-check-for-an-update-on-a-web-page/">http://www.guldmyr.com/blog/script-to-check-for-an-update-on-a-web-page/</a> just did not elegant enough (also it stopped working).</p>
<p>Instead of getting some kind of output in a terminal sometimes somewhere I decided to make an RSS feed that updates <a href="http://guldmyr.com/spotify/spot.xml">http://guldmyr.com/spotify/spot.xml</a> instead :)</p>
<p>I suspect that the repository itself could be used to see if there's an update to it. It has all these nice looking files in here: http://repository.spotify.com/dists/stable/ - but I also suspect this is a repository for debian/ubuntu which I cannot use on my RHEL-based workstation.</p>
<p>Thus:</p>
<p>A bash script was written. It uploads the spot.xml whenever there is an update. The script does not run on the web-server so it ftps the file to the web-server, it would be nice if it did because then the actual updating of the feed would be so much more simple (just move/copy a file).</p>
<p>But, I hope it works :) Guess we'll see next time there's an update to spotify!</p>
<p>The script itself is a bit long and I hope not too badly documented, so it's available in the link below: <a href="http://guldmyr.com/spotify/update.spotify.rss.feed.sh" title="the script">http://guldmyr.com/spotify/update.spotify.rss.feed.sh</a></p>
<p>Or, more easily, you can just add <a href="http://guldmyr.com/spotify/spot.xml" title="put this in an RSS reader">http://guldmyr.com/spotify/spot.xml</a> to your RSS reader (google's reader, mozilla's thunderbird, there are many of them).</p>
<p>Some things I learned:</p>
<ul>
<li>Latest post in an RSS feed is just below the header, making it a bit awkward to update via a script as you cannot just remove the </channel> and </rss>, add a new <item></item> and then add the </channel> and </rss> at the end again.</li>
<li>lastBuildDate in the header also needs to be updated each time the feed is updated. In the end I decided to re-create the file/feed completely every time there was an update.</li>
<li>Some rss-readers appear to have a built-in interval that they use to check if there's an update. So for example you could update the rss-feed and press 'refresh' but the client still won't show the new feeds. Google Reader does this for example. With Mozilla's Thunderbird you can ask it to update (Get Messages) and it will. You don't need an e-mail account in Thunderbird to use it as an RSS reader by the way.</li>
<li><a href="http://feedvalidator.org" title="http://feedvalidator.org">http://feedvalidator.org</a> is a great tool, use it.</li>
</ul>
<p><em>I claim no responsibility if you actually use the script, the feed however should be fairly safe to subscribe to.</em></p>
<p><a href="http://feedvalidator.org/check.cgi?url=http%3A//guldmyr.com/spotify/spot.xml"><img alt="[Valid RSS]" src="images/valid-rss-rogers.png" title="Validate my RSS feed"></a></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>